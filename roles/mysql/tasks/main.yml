- name: copying the {{COMPONENT}} repo 
  ansible.builtin.copy:
     src: mysql.repo 
     dest: /etc/yum.repos.d/mysql.repo 
 
- name: Installing {{COMPONENT}} 
  ansible.builtin.package:
    name: 
       - mysql-community-server
       - MySQL-python
    state: present 
# We are installing MySQL-python as the task "Check the DB Password " needs that as per the error.

- name: Starting {{COMPONENT}} 
  ansible.builtin.service:
    name: mysqld
    state: started
    enabled: yes  

- name: Check the DB Password 
  community.mysql.mysql_info:
    login_user: root 
    login_password: RoboShop@1
  ignore_errors: yes
  register: mysql_stat 

- name: Resetting the DB Paasword
  ansible.builtin.shell: grep "temporary password" /var/log/mysqld.log | awk '{print $NF}'
  register: DEFAULT_ROOT_PASSWORD  
  when: mysql_stat.failed  

- name: Copy the SQL Password to some file 
  

